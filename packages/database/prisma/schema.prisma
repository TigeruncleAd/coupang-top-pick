generator client {
  provider      = "prisma-client-js"
  output        = "../generated/client"
  binaryTargets = ["native", "rhel-openssl-3.0.x", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://toppick:toppick1212!!@coupang-top-pick.ctg6sisogxev.ap-northeast-2.rds.amazonaws.com:5432/toppick?connection_limit=1"
}

enum ROLE {
  USER
  ADMIN
  SUPER_ADMIN
  AGENCY
}

enum USER_STATUS {
  PENDING
  ACTIVE
  INACTIVE
}

enum LICENSE_TYPE {
  NONE
  A
  S
}

model User {
  id                          BigInt       @id @default(autoincrement())
  createdAt                   DateTime     @default(now())
  accountId                   String       @unique
  password                    String
  name                        String       @default("")
  role                        ROLE         @default(USER)
  status                      USER_STATUS  @default(ACTIVE)
  bizName                     String       @default("")
  bizNumber                   String       @default("")
  expiredAt                   DateTime     @default(now())
  lastLoginAt                 DateTime     @default(now())
  lastPaidAt                  DateTime     @default(now())
  license                     LICENSE_TYPE @default(A)
  maxProductCount             Int          @default(200)
  maxUploadProductCount       Int          @default(0)
  memo                        String       @default("")
  points                      Int          @default(0)
  remainingProductCount       Int          @default(200)
  remainingUploadProductCount Int          @default(0)

  // referral Referral?
}

// model Referral {
//   id BigInt @id @default(autoincrement())
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt


//   referralCode String @unique
//   referralLink String @unique
//   referralCount Int @default(0)
//   referralAmount Int @default(0)
// }

model Setting {
  key String @id
  value String
}